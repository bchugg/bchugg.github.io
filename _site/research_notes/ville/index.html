<!DOCTYPE html>
<html lang="en-us">

  <head prefix="og: http://ogp.me/ns#; dc: http://purl.org/dc/terms/#">
  
  
  <!-- Canonical link to help search engines -->
  <link rel="canonical" href="http://localhost:4000/research_notes/ville/" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PN2H9928PZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-PN2H9928PZ');
  </script>

  <!-- Basic meta elements -->
  <meta charset="utf-8" />

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width,initial-scale=1.0,shrink-to-fit=no" />

  <!-- Mathjax Support -->
  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <title>
    
     Markov for Martingales
    
  </title>

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="Markov for Martingales" />
<meta name="author" content="Ben Chugg" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Ville’s inequality for supermartingales" />
<meta property="og:description" content="Ville’s inequality for supermartingales" />
<link rel="canonical" href="http://localhost:4000/research_notes/ville/" />
<meta property="og:url" content="http://localhost:4000/research_notes/ville/" />
<meta property="og:site_name" content="benny" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-08-24T00:00:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Markov for Martingales" />
<meta name="twitter:site" content="@bennychugg" />
<meta name="twitter:creator" content="@Ben Chugg" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ben Chugg","url":"https://benchugg.com"},"dateModified":"2022-08-24T00:00:00-06:00","datePublished":"2022-08-24T00:00:00-06:00","description":"Ville’s inequality for supermartingales","headline":"Markov for Martingales","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/research_notes/ville/"},"url":"http://localhost:4000/research_notes/ville/"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Dublin Core metadata for Zotero -->
  <meta property="dc:title" content="Markov for Martingales" />
  <meta property="dc:creator" content="Ben Chugg" />
  <meta property="dc:identifier" content="http://localhost:4000/research_notes/ville/" />
  
  <meta property="dc:date" content="2022-08-24 00:00:00 -0600" />
  
  <meta property="dc:source" content="benny" />

  <!-- Open Graph and Twitter metadata -->
  <meta property="og:title" content="Markov for Martingales" />
  <meta property="og:url" content="http://localhost:4000/research_notes/ville/" />
  
    <meta property="og:image" content="http://localhost:4000/assets/images/heads.jpeg"/>
    <meta name="twitter:image" content="http://localhost:4000/assets/images/heads.jpeg" />
  
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary">
  <meta name="twitter:domain" value="benchugg.com" />
  <meta name="twitter:title" value="Markov for Martingales" />
  <meta name="twitter:url" value="http://localhost:4000" />
  
  <!-- Description is dependent on page type  -->
  
    <meta property="og:description" content="Ville's inequality for supermartingales">
    <meta name="twitter:description" value="Ville's inequality for supermartingales" />
    <meta property="og:type" content="article" />
  
  

  <!-- CSS link -->
  <link rel="stylesheet" href="/assets/css/style.css" />

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="167x167" href="/assets/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/assets/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/favicon.ico">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/favicon.ico">
  <link rel="apple-touch-icon-precomposed" href="/assets/favicon.ico">
  <link rel="shortcut icon" href="/assets/favicon.ico" />
  <link rel=”apple-touch-icon” sizes="114×114" href="/assets/favicon.ico" />
  <link rel=”apple-touch-icon” sizes="72×72" href="/assets/favicon.ico" />
  <link rel=”apple-touch-icon” href="/assets/favicon.ico" />
  <link rel=”icon” href="/assets/favicon.ico", sizes="32x32"/>

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml" />

  
</head>


  <body class="theme-base-">

    <!-- This if statement decides which sidebar to use -->
    
    <!--
  Target for toggling the sidebar `.sidebar-checkbox` is for regular styles, `#sidebar-checkbox` for
  behavior.
-->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-item">
    
  </div> 

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
    
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/papers/">Papers</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/research_notes/">Research Notes</a>
        
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/writing/">Writing</a>
        
      
    

    <a class='sidebar-nav-item' href="http://incrementspodcast.com">Podcast</a>

    <!-- <span class='sidebar-nav-item'>Recommendations</span>
    <ul class="dropdown-menu">
      
        
          
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
        
      
    </ul> -->

   </nav> 

  <div class="sidebar-links">
    <div class='container'>
      <a href="https://github.com/bchugg" rel='nofollow'><img src="/assets/images/github_white.png"></a>
      <a href="https://www.goodreads.com/user/show/90945992-ben-chugg" rel='nofollow'><img src="/assets/images/goodreads_white.png"></a>
      <a href="https://twitter.com/BennyChugg" rel='nofollow'><img src="/assets/images/twitter_white.png"></a>
    </div>
  </div>
</aside>

    

    <!--
      Wrap is the content to shift when toggling the sidebar. We wrap the content to avoid any CSS
      collisions with our real content.
    -->
    <div class="wrap">
      <header class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">benny</a>
            
          </h3>
        </div>
      </header>

      <main class="container content" id="main">
        <article class="note">
  <small>
    <a href="/research_notes/">Back to all notes</a>
  </small>
  <hr>
  
  <p class='title'>Markov for Martingales</p> 
  \[\newcommand{E}{\mathbb{E}}
\renewcommand{\Pr}{\mathbb{P}}
\newcommand{\D}{\mathcal{D}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\gn}{\;|\;}\]

<p>Possibly one of the most useful inequalities in all of probability is Markov’s inequality, which states that for a non-negative random variable \(X\),</p>

\[\Pr(X \geq \alpha )\leq \frac{\E[X]}{\alpha},\]

<p>for all \(\alpha&gt;0\). The intuition is simple if looked at as an optimization problem. Suppose we fix the probability \(p_\alpha = \Pr(X\geq \alpha)\) and ask the question: How small can we make \(\E[X]\)? That is, we want to solve</p>

\[\begin{align*}
\min_{\D} \quad &amp; \E_{X\sim D}[X]  \\ 
\text{s.t}\quad &amp; p_\alpha = \Pr(X\geq \alpha) \\ 
&amp; X\geq 0.
\end{align*}\]

<p>This is easy. If we could, we’d put all of \(X\)’s mass at 0, which would minimize \(\E[X]\) subject to \(X\geq 0\). But we have to move at least some of the mass to \(\alpha\) or beyond. So we’ll put mass \(p\) at \(\alpha\), and mass \(1-p\) at 0. It should be clear that any other alteration would simply increase \(\E[X]\). With these choices, we have \(\E[X] = \alpha p_\alpha\), and since this minimized \(\E[X]\), we have \(\E[X]\geq \alpha p_\alpha\), which is the desired result.</p>

<p>Admittedly, despite it’s usefulness, you can only make Markov’s inequality so interesting. However, it’s natural to wonder whether Markov-like inequalities hold for more than just non-negative random variables. For instance, do certain random <em>processes</em> exhibit this kind of behavior? The answer is yes.</p>

<p>Recall that a supermartingale \((X_t)\) adapted to the filtration \((\F_t)\) on the filtered space \((\Omega,\F,(\F_t),\Pr)\) obeys</p>

\[\E[X_t\gn \F_\tau] \le X_\tau, \quad \text{for all }\tau\leq t.\]

<p>Ville’s inequality (mentioned in the <a href="/research_notes/intro_game_theory_prob.md">intro post</a> on game-theoretic probability) generalizes Markov’s inequality to supermartingales. In particular, it states that</p>

\[\Pr(\exists t\geq 0: X_t \geq \alpha \gn \F_0) \leq \frac{X_0}{\alpha}.\]

<p>In other words, the probability – given the information at the beginning of the process – that the value of \(X_t\) <em>at any time</em> exceeds \(\alpha\), is bounded in Markov-like fashion. For this reason, it’s sometimes called an <em>infinite-horizon</em> extension of Markov’s inequality.</p>

<p>To prove it, we’ll show it holds for all finite times \(k\), and then take the limit as \(k\to\infty\). Define the stopping time \(T\) to be the first time at which \(X_t\) is at least \(\alpha\). Formally, \(T=\inf\{t:X_t\geq \alpha\}\). (Recall that a stopping time is simply a random \(T\) where, for all \(t\), one can determine if \(T=t\) given \(\F_t\).) Then, for some arbitrary \(k\), define the truncated stopping time \(\tau = \min(T,k)\). Clearly, both \(T\) and \(\tau\) are well-defined stopping times.</p>

<p>Recall <a rel="nofollow noopener noreferrer" href="https://math.dartmouth.edu/~pw/math100w13/lalonde.pdf">Doob’s optional stopping theorem</a>, which states that \(X_\tau\) is measurable (almost surely) since \(\tau\) is bounded (by construction). Thus, Markov’s inequality applies to \(X_\tau\):</p>

\[\Pr(T&lt; k)\leq \Pr(X_\tau\geq \alpha \gn \F_0) \leq \frac{\E[X_\tau \gn \F_0]}{\alpha} \leq \frac{X_0}{\alpha},\]

<p>where the first inequality follows since if \(T&lt; k\), then  \(\tau=T\) and \(X_\tau =X_T\geq \alpha\) by definition of \(T\). The final inequality holds because \((X_t)\) is a supermartingale. Since this holds for all \(k\), taking limits gives</p>

\[\Pr(T&lt;\infty) = \lim_{k\to\infty} \Pr(T&lt;k) \leq \frac{X_0}{\alpha}.\]

<p>Noting that \(\Pr(T&lt;\infty) = \Pr(\exists t\geq 0: X_t\geq \alpha)\) completes the proof.</p>

<p>Notice that there was nothing special about \(\F_0\). The same proof yields</p>

\[\Pr(\exists t\geq T: X_t \geq \alpha \gn \F_T) \leq \frac{X_T}{\alpha},\]

<p>for any \(T\).</p>


  <small>
    <a href="/research_notes/">Back to all notes</a>
  </small>
</article>
 <!-- "> -->
      </main>

      <!-- Footer  -->
      <div class="container" id="footer">
        <hr>
        <div class='container links'>
          <a href="https://github.com/bchugg" rel='nofollow'><img src="/assets/images/github.png"></a>
          <a href="https://www.goodreads.com/user/show/90945992-ben-chugg" rel='nofollow'><img src="/assets/images/goodreads.png"></a>
          <a href="https://twitter.com/BennyChugg" rel='nofollow'><img src="/assets/images/twitter.png"></a>
        </div>
      
        <div class='copyright'>
          <small>&#169; 2022 Ben Chugg</small>
        </div>
      
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>

    // Highlight search Query
    var url = window.location.href;
      if (url.lastIndexOf("?q=") > 0) {
        // get the index of the parameter, add three (to account for length)
        var stringloc = url.lastIndexOf("?q=") + 3;
        // get the substring (query) and decode
        var searchquery = decodeURIComponent(url.substr(stringloc));
        // regex matches at beginning of line, end of line or word boundary, useful for poetry
        var regex = new RegExp("(?:^|\\b)(" + searchquery + ")(?:$|\\b)", "gim");
        // get, add mark and then set content
        var content = document.getElementById("main").innerHTML;
        document.getElementById("main").innerHTML = content.replace(regex, "<mark>$1</mark>");
      }

      // Toggle sidebar
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             !sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

<!-- Facebook SDK for JavaScript -->
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '589495744558280',
      xfbml      : true,
      version    : 'v2.6'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
  </body>
</html>
