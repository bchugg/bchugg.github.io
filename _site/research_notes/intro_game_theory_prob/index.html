<!DOCTYPE html>
<html lang="en-us">

  <head prefix="og: http://ogp.me/ns#; dc: http://purl.org/dc/terms/#">
  
  
  <!-- Canonical link to help search engines -->
  <link rel="canonical" href="http://localhost:4000/research_notes/intro_game_theory_prob/" />

  <!-- Basic meta elements -->
  <meta charset="utf-8" />

  <!-- Enable responsiveness on mobile devices -->
  <meta name="viewport" content="width=device-width,initial-scale=1.0,shrink-to-fit=no" />

  <!-- Mathjax Support -->
  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <title>
    
      Ben &middot; Introduction to Game-Theoretic Probability
    
  </title>

  <!-- Dublin Core metadata for Zotero -->
  <meta property="dc:title" content="Introduction to Game-Theoretic Probability" />
  <meta property="dc:creator" content="Ben Chugg" />
  <meta property="dc:identifier" content="http://localhost:4000/research_notes/intro_game_theory_prob/" />
  
  
  
  <meta property="dc:source" content="benny" />

  <!-- Open Graph metadata -->
  <meta property="og:title" content="Introduction to Game-Theoretic Probability" />
  <meta property="og:url" content="http://localhost:4000/research_notes/intro_game_theory_prob/" />
  <meta property="og:image" content="http://localhost:4000/assets/favicon.ico" />
  <meta property="og:image:width" content="200" />
  <meta property="og:image:height" content="200" />
  <meta property="fb:admins" content="elotroalex" />
  <meta property="fb:app_id" content="589495744558280" />


  <meta property="og:description" content="">
  <meta property="og:type" content="article" />


  <!-- CSS link -->
  <link rel="stylesheet" href="/assets/css/style.css" />

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="167x167" href="/assets/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/assets/favicon.ico" />
  <link rel="shortcut icon" href="/assets/favicon.ico" />
  <link rel=”apple-touch-icon” sizes="114×114" href="/assets/favicon.ico" />
  <link rel=”apple-touch-icon” sizes="72×72" href="/assets/favicon.ico" />
  <link rel=”apple-touch-icon” href="/assets/favicon.ico" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml" />
</head>


  <body class="theme-base-">

    <!-- This if statement decides which sidebar to use -->
    
    <!--
  Target for toggling the sidebar `.sidebar-checkbox` is for regular styles, `#sidebar-checkbox` for
  behavior.
-->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/papers/">Papers</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/research_notes/">Research Notes</a>
        
      
    
      
        
      
    

    <a class='sidebar-nav-item' href="http://incrementspodcast.com">Podcast</a>

    <span class='sidebar-nav-item'>Recommendations</span>
    <ul class="dropdown-menu">
      
        
          
        
      
        
      
        
      
        
      
        
      
        
          
            <li><a href="/books/">Books</a></li>
          
        
      
        
          
            <li><a href="/courses/">Courses</a></li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    </ul>


    <!-- The code below is used for manually entered links  -->
    <!-- <span style='cursor:pointer;' onclick="javascript:var hypothesis = document.createElement('script');
      hypothesis.setAttribute('src','https://hypothes.is/embed.js');
      document.head.appendChild(hypothesis);"><a class="sidebar-nav-item">Annotate me</a></span> -->

  <!--
    <a class="sidebar-nav-item" href="https://via.hypothes.is/http://localhost:4000/research_notes/intro_game_theory_prob//" data-proofer-ignore>Annotate me</a>
    <script src="https://hypothes.is/embed.js" async></script>
  -->

    <!-- <a class="sidebar-nav-item" href="https://github.com/minicomp/ed" target="_blank">GitHub project</a> -->
   </nav> 

  <div class="sidebar-links">
    <div class='container'>
      <a href="https://github.com/bchugg" rel='nofollow'><img src="/assets/images/github_white.png"></a>
      <a href="https://www.linkedin.com/in/ben-chugg-3a4616aa/" rel='nofollow'><img src="/assets/images/linkedin_white.png"></a>
      <a href="https://www.goodreads.com/user/show/90945992-ben-chugg" rel='nofollow'><img src="/assets/images/goodreads_white.png"></a>
      <a href="https://twitter.com/BennyChugg" rel='nofollow'><img src="/assets/images/twitter_white.png"></a>
    </div>
     <!-- <p>
      A modified version of <a href="https://minicomp.github.io/ed/">Ed.</a> 
    </p>  -->
  </div>
</aside>

    

    <!--
      Wrap is the content to shift when toggling the sidebar. We wrap the content to avoid any CSS
      collisions with our real content.
    -->
    <div class="wrap">
      <header class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">benny</a>
            
              <br><small>Introduction to Game-Theoretic Probability</small>
            
          </h3>
        </div>
      </header>

      <main class="container content" id="main">
        <article class="note">
  <small>
    <a href="/research_notes/">Back to all notes</a>
  </small>
  <hr>
  \[\newcommand{\R}{\mathbb{R}}
\newcommand{\strat}{\varphi}
\newcommand{\proc}{\mathcal{S}}
\newcommand{\cp}{\mathcal{K}}
\newcommand{\cps}{\cp^\strat}
\newcommand{\eps}{\epsilon}
\renewcommand{\by}{\bar{y}}\]

<h1 id="intro">Intro</h1>

<p>Consider a full information game between three players: Alice, Bob, and Reality. It proceeds as follows:</p>

<ul>
  <li>Bob has some initial capital, \(C_0\).</li>
  <li>For rounds \(n=1,2,\dots\)
    <ul>
      <li>Alice announces a value \(v_n\)</li>
      <li>Bob annonces a value \(M_n\)</li>
      <li>Reality announces \(y_n\)</li>
      <li>The new capital of \(S\) is \(C_n = C_{n-1} + M_n(y_n - v_n)\)</li>
    </ul>
  </li>
</ul>

<p>It’s helpful to consider yourself as playing Bob, and against Alice and Reality (who we’ll henceforth call the <em>opponents</em>). Naturally, you want to become rich as play progresses, i.e.,</p>

\[C_n \xrightarrow{n\to\infty} \infty,\]

<p>or, barring that, you want to constrain the behavior of Alice and Reality – that is, to constrain their behavior in some way. Basically, if you can’t get your way and become infinitely wealth, let’s be sure to exact some vengeance. For example, we’ll show later that you can force them to agree with each other in the limit:</p>

\[\begin{equation}
\label{eq:lln}
\lim_{n\to\infty} \frac{1}{n}\sum_{i=1}^n (y_i - v_i) = 0. \tag{1}
\end{equation}\]

<p>In the language of game-theoretic probability, \(M_n\) is the bet that Bob is placing on the forecast \(v_n\). If \(M&gt;0\), he’s assuming \(y_n\) will be greater than \(v_n\). Likewise for \(M_n&lt;0\). If his bet is correct, he’ll add \(\vert M_n(y_n-v_n)\vert\) to his capital; otherwise he loses the same amount.</p>

<h1 id="some-terminology-and-prelims">Some terminology and prelims</h1>

<p>To begin rigorously analyzing such games, we need to introduce various concepts.</p>

<h2 id="events-and-variables">Events and Variables</h2>

<p>Like most areas of math, there’s a slew of new (ish?) terminology that goes along with it. Most of it is intuitive and often you can get by without paying too attention to the precise definitons. But we still need to introduce several precise meanings to start proving things.</p>

<p>An <em>event</em> is a condition on the opponents. E.g., Equation \(\eqref{eq:lln}\) is an event. An infinite sequence of moves played by the opponents is a <em>path</em>. Call \(\Omega\) the sample space of all paths. A function</p>

\[X:\Omega\to\R\]

<p>is called a <em>variable</em>.</p>

<h2 id="processes-and-strategies">Processes and Strategies</h2>

<p>Let \(\mathbb{S}\) be the set of all situations. A function</p>

\[\proc:\mathbb{S}\to\R\]

<p>is a <em>process</em>.</p>

<h2 id="forcing-and-weak-forcing">Forcing and weak forcing</h2>

<p>Clearly, there is a strong similarity between these language choices and conventions from Kolmogorov probability theory. This is on purpose, and allows you to start forming a mental map of the relationships, and to perhaps anticipate some of the results. For instance, a foundational concept is normal probability is an <em>almost sure</em> event. Here, as alluded to above, this means an event \(E\) such that \(C_n\geq 0\) and either</p>

\[\lim_n C_n =\infty\quad\text{or}\quad E \text{ happens}.\]

<p>That is, the Bob does not risk bankruptcy and either the Bob becomes infinitely rich or forces \(E\) to transpire. For this reason, we’ll also say that the Bob <em>can force</em> \(E\).</p>

<p>Note also that \(f:\Omega\to\R\) would be a random variable in measure-theoretic probability, but here we can drop the adjective “random” since our formalization involves no randomness.</p>

<p>A strategy \(\strat\) for Bob <em>weakly forces</em> event \(E\) if \(\proc^\strat \geq 0\) and</p>

\[\sup_n \proc^\strat_n(\omega) =\omega\]

<p>for all \(\omega\not\in E\).</p>

<p>Weak forcing is (shockingly) a weaker condition than forcing, meaning that meaning that if we can weakly force \(E\) we can force \(E\).</p>

<p>TODO: Show that.</p>

<h1 id="averaging-strategies-the-infinite-casino">Averaging Strategies: The Infinite Casino</h1>

<p>Thus far, we’ve conceived of Bob as playing a single game against his opponents. But, as we’ll see, a common technique to force events is to average various strategies. To this end, it’s helpful to consider the Bob as splitting his attention among many games. He walks into an infinite casino with two players, reality and Alice, sitting at each table. He can decide to play at any subset of the tables.</p>

<p>Suppose he plays strategy \(\strat_1\) at table 1, and \(\strat_2\) at table 2. We can consider an overall strategy \(\alpha_1\strat_1 + \alpha_2\strat_2\) for any convex combination \(\alpha_1+\alpha_2=1\), and interpret it as Bob splitting his initial capital \(C_0\) between two accounts, putting \(\alpha_1 C_0\) on table 1, and \(\alpha_2 C_0\) on table 2. And there’s no reason he can’t split her capital among infinitely many strategies. In that case, we have the overall strategy</p>

\[\strat = \sum_{i=1}^\infty \alpha_i \strat_i,\]

<p>where \(\sum_{i=1}^\infty \alpha_i=1\). For this to be a legitimate strategy, however, we need that \(\sum_i \alpha_i \strat_i\) converges in \(\R\) <em>for each</em> \(n\) since Bob can only bet a finite amount at any time.</p>

<p>Naturally, the capital process for a strategy \(\sum_i \alpha_i \strat_i\) is</p>

\[\cp_n^{\sum_i \alpha_i \strat_i} = \sum_i \alpha_i \cp_n^{\strat_i}.\]

<p>Averaging strategies is useful for the following reason: Suppose \(\strat_1\) forces \(E_1\) and \(\strat_2\) forces \(E_2\). Then \(\strat = \alpha_1\strat_1 + \alpha_2\strat_2\) forces \(E_1\cap E_2\). Seeing this is mostly a matter of unwinding definitions. If \(\omega\) is such that \(\lim_n \cps_n(\omega)&lt;\infty\), then the capital processes of both \(\alpha_1\strat_1\) and \(\alpha_2\strat_2\) are finite as well. But that means, by definition of forcing, that \(E_1\) and \(E_2\) both happen on this path.</p>

<p>This argument can be extended to countably infinite stategies as well. Suppose \(\strat_i\) forces \(E_i\) for \(i=1,2,\dots\). Since \(\cp^{\strat_i}_n=\cp_{n-1}^{\strat_i} + \strat_{i,n}y_n\geq 0\) (by definition of forcing), we have</p>

\[\vert \strat_{i,n} \vert \leq \frac{\cp_{n-1}^{\strat_i}}{B},\]

<p>otherwise we could set \(y_n = B\) or \(y_n=-B\) to force bankruptcy. (Here \(\strat_{i,n}\) is the \(n\)-th move of the \(i\)-th strategy.) This, in turn, implies that \(\cp_{i,n}y_n \leq \cp_{n-1}^{\strat_i}\) (since \(y_n\leq B\)). Therefore,</p>

\[\cp_n^{\strat_i}=\cp_{n-1}^{\strat_i} + \strat_{i,n}y_n \leq 2\cp_{n-1}^{\strat_i} = 2(\cp_{n-2}^{\strat_i}+\strat_{i,n-1}y_{n-1})\leq 4\cp_{n-2}^{\strat_i}\leq \dots\leq 2^n C_0.\]

<p>Combining this with the inequality above gives</p>

\[\vert \strat_{i,n}\vert \leq \frac{2^n C_0}{B}.\]

<p>Consider the strategy</p>

\[\strat = \sum_k 2^{-k} \strat_i,\]

<p>which is a valid convex combination because \(\sum_k 2^{-k}=1\), and which converges for fixed \(n\) because</p>

\[\sum_k \vert 2^{-k}\strat_{i,n}\vert \leq \frac{2^nC_0}{B}\sum_k \frac{1}{2^k}=\frac{2^nC_0}{B}&lt;\infty.\]

<p>From here, the arguments proceeds the same as above. For a path \(\omega\) with \(\sup_n \cps_n(\omega)&lt;\infty\), it must be the case that \(\sup_n 2^{-k}\cp_n^{\strat_i}&lt;\infty\) as well. Therefore, on this path, \(E_k\) occurs, meaning that \(\cap_{k=1}^\infty E_k\) does too.</p>

<h1 id="proving-lln">Proving LLN</h1>

<p>To give a sense of how arguments can proceed in this space, we’re going to prove the game-theoretic version of the LLN above.</p>

<p>For simplicity, we’ll assume that the Alice always bets \(v_n=0\). We’ll show later that this assumption is without loss of generality. In this case the capital process is</p>

\[\cps_n = \cps_{n-1} + \strat_n y_n.\]

<p>Our goal is to show that the Bob can force event \(E\), where \(E\) is the event</p>

\[\lim_{n\to\infty}\frac{1}{n}\sum_{i=1}^n y_i = 0.\]

<p>Put \(\bar{y}_n = \frac{1}{n}\sum_{i=1}^n y_i\). By the arguments above it suffices to show that Bob can <em>weakly</em> force \(E\). To do this, we’ll use a standard approach from analysis. Let \(\eps&gt;0\) and consider the events</p>

\[E^+: \limsup_n \by_n \leq \eps,\quad\text{and}\quad E^-:\liminf_n \by_n\geq -\eps.\]

<p>Focus first on \(E^+\). Consider the strategy \(\strat\) which begins with initial stake \(C_0&gt;0\) and then proceeds to bet \(\eps \cps_{n-1}\) (i.e., risks \(\eps\) times the current amount of capital) on round \(n\). Then, \(\cps_1 = \cps_0 + \strat_1y_1 = C_0(1 + \eps y_2)\), and</p>

\[\cps_2 = \cps_1 + \strat_2 y_2 = \cps_1(1 + \eps y_2) = C_0(1 + \eps y_1)(1 + \eps y_2).\]

<p>In general,</p>

\[\cps_n = C_0\prod_{i=1}^{n} (1 + \eps y_i).\]

<p>To show that Bob weakly forces \(E^+\) with this strategy, we need to show that for all \(\omega\) such that \(\sup_n \cps_n(\omega) &lt;\infty\), that \(E^+\) happens. Consider some path \(\omega\) such that \(\sup_n \cps_n(\omega) &lt;\infty\). Then there is some finite upper limit \(L_\omega\) with \(\sup_n \cps_n(\omega)\leq L_\omega\). Now we need some expression involving \(\by_n\). Taking the logarithm of the product above seems like a good start. Since \(\cps_n \leq L_\omega\) we have</p>

\[\log L_\omega \geq \log \cps_n = \log C_0\prod_i^n (1+\eps y_i) = \log C_0 + \sum_{i=1}^n \log(1 + \eps y_i).\]

<p>Set \(C_0=1\) in our strategy so that \(\log C_0\) disappears. Recall that \(x-x^2 \leq log(1+x)\) for \(x\geq -1/2\). Since \(y_i\geq -B\) and \(\eps\) is small (wlog take it to be \(\leq 1/2B\)) we have that \(\eps y_i\geq -1/2\). Hence,</p>

\[\log L_\omega \geq \sum_i (1 + \eps y_i) \geq \eps\sum_i y_i -\eps^2\sum_i y_i^2 \geq \eps\sum_i y_i -B^2\eps^2n,\]

<p>where the final inequality follows because \(y_i\in [-B,B]\). Rearranging gives</p>

\[\by_n \leq \frac{\log L_\omega}{\eps n} + B^2\eps\xrightarrow{n\to\infty} B^2\eps.\]

<p>We can’t say whether \(\lim \by_n\) exists, but this does let us bound the limit superior:</p>

\[\limsup_n \by_n \leq B^2\eps.\]

<p>Running through the same argument with \(-\eps\) gives the result for \(E^-\).</p>

<h1 id="resources">Resources</h1>

<ul>
  <li><a rel="nofollow noopener noreferrer" href="https://www.wiley.com/en-us/Game+Theoretic+Foundations+for+Probability+and+Finance+-p-9780470903056">Game-Theoretic Foundations for Probability and Finance</a> by Glenn Shafer and Vladimir Vovk.</li>
  <li>The <a rel="nofollow noopener noreferrer" href="http://www.probabilityandfinance.com/">Game-Theoretic Probability and Finance Project</a>.</li>
  <li>The course <a rel="nofollow noopener noreferrer" href="https://www.stat.cmu.edu/~aramdas/betting/b21.html">Game-Theoretic Statistical Inference</a> by Shafer, Wang, and Ramdas.</li>
</ul>

  <small>
    <a href="/research_notes/">Back to all notes</a>
  </small>
</article>
 <!-- "> -->
      </main>

      <!-- Footer  -->
      <div class="container" id="footer">
        <hr>
        <div class='container links'>
          <a href="https://github.com/bchugg" rel='nofollow'><img src="/assets/images/github.png"></a>
          <a href="https://www.linkedin.com/in/ben-chugg-3a4616aa/" rel='nofollow'><img src="/assets/images/linkedin.png"></a>
          <a href="https://www.goodreads.com/user/show/90945992-ben-chugg" rel='nofollow'><img src="/assets/images/goodreads.png"></a>
          <a href="https://twitter.com/BennyChugg" rel='nofollow'><img src="/assets/images/twitter.png"></a>
        </div>
      
        <div class='copyright'>
          <small>&#169; 2022 Ben Chugg</small>
        </div>
      
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>

    // Highlight search Query
    var url = window.location.href;
      if (url.lastIndexOf("?q=") > 0) {
        // get the index of the parameter, add three (to account for length)
        var stringloc = url.lastIndexOf("?q=") + 3;
        // get the substring (query) and decode
        var searchquery = decodeURIComponent(url.substr(stringloc));
        // regex matches at beginning of line, end of line or word boundary, useful for poetry
        var regex = new RegExp("(?:^|\\b)(" + searchquery + ")(?:$|\\b)", "gim");
        // get, add mark and then set content
        var content = document.getElementById("main").innerHTML;
        document.getElementById("main").innerHTML = content.replace(regex, "<mark>$1</mark>");
      }

      // Toggle sidebar
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             !sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

<!-- Facebook SDK for JavaScript -->
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '589495744558280',
      xfbml      : true,
      version    : 'v2.6'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>
  </body>
</html>
